<!DOCTYPE html>
<html lang="en">
<head>
  <link rel="icon" type="image/png" href="Polish_20250929_214523847.png">
  <link rel="apple-touch-icon" sizes="180x180" href="Polish_20250929_214523847.png">
  
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- Enhanced SEO Title: Incorporates primary keywords for better CTR and ranking -->
  <title> CG Play: Free Online Games, Web Games & .io Games - Play Instantly No Download</title>
  <!-- Enhanced Meta Description: 150-160 chars, includes keywords, call-to-action for clicks -->
  <meta name="description" content="Play free online games, web games, .io games & more instantly in your browser at IGS Cloud Games. No downloads required. Enjoy cloud gaming on mobile, PC – action, puzzle, multiplayer hits!">
  <!-- Expanded Keywords: High-volume terms like online games, .io games, web games for relevance -->
  <meta name="keywords" content="online games, free online games, web games, .io games, browser games, cloud gaming, instant play games, multiplayer .io games, no download games, mobile web games, action online games, puzzle web games, IGS games, free browser games, HTML5 games">
  <meta name="author" content="CG Play">
  <meta name="robots" content="index, follow">
  <!-- Additional SEO Metas for Core Web Vitals & Ranking -->
  <meta name="google-site-verification" content="YOUR_VERIFICATION_TOKEN_HERE"> <!-- Add via Google Search Console -->
  <meta name="theme-color" content="#6c5ce7"> <!-- For PWA/mobile ranking boost -->
  
  <!-- Open Graph / Social Media Meta Tags (Optimized for shares) -->
  <meta property="og:title" content="CG Play: Free Online Games, .io Games & Web Games - Instant Play">
  <meta property="og:description" content="Discover free online games, addictive .io games, and web games. Play instantly without downloads on any device. Join millions in cloud gaming fun!">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://cgplay.fun">
  <meta property="og:image" content="https://cgplay.fun/images/cgplay.png">
  <meta property="og:site_name" content="CG Plqy">
  <meta property="og:locale" content="en_US">
  
  <!-- Twitter Card Meta Tags (Enhanced for virality) -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="CG Play: Play Free .io Games, Online Games & More Instantly">
  <meta name="twitter:description" content="Free web games, .io multiplayer battles, and browser-based adventures. No installs – just pure gaming joy on mobile or desktop!">
  <meta name="twitter:image" content="https://cgplay.fun/images/cgplay.png">
  <meta name="twitter:site" content="@cgplay.fun"> <!-- Add your Twitter handle -->
  
  <!-- Canonical URL -->
  <link rel="canonical" href="https://cgplay.fun">
  
  <!-- Structured Data (JSON-LD) for Games & Site - Boosts rich snippets & ranking -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "WebSite",
    "name":"CG aply",
    "url": "https://cgplay.fun",
    "description": "Platform for free online games, .io games, and web games with instant browser play.",
    "potentialAction": {
      "@type": "SearchAction",
      "target": "https://cgplay.fun/search?q={search_term_string}",
      "query-input": "required name=search_term_string"
    },
    "sameAs": [
      "https://youtube.com/@thefogstudio18",
      "https://www.instagram.com/fogstudio18",
      "https://discord.gg/cgplay" <!-- Add real Discord if available -->
    ]
  }
  </script>
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "CollectionPage",
    "name": "Free Online Games and .io Games",
    "description": "Browse our collection of free web games, .io multiplayer games, and instant-play browser titles.",
    "url": "https://cgplay.fun",
    "provider": {
      "@type": "Organization",
      "name": "Cg play",
      "url": "https://cgplay.fun"
    },
    "hasOfferCatalog": {
      "@type": "OfferCatalog",
      "name": "Online Games Catalog",
      "itemListElement": [
        {
          "@type": "Offer",
          "itemOffered": {
            "@type": "Game",
            "name": ".io Games",
            "genre": "Multiplayer",
            "playMode": "Browser"
          }
        },
        {
          "@type": "Offer",
          "itemOffered": {
            "@type": "Game",
            "name": "Web Games",
            "genre": "Action, Puzzle",
            "playMode": "Single-player"
          }
        }
      ]
    }
  }
  </script>
  
  <!-- Preload Critical Resources -->
  <link rel="preload" href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&family=Roboto:wght@400;700&display=swap" as="style">
  <link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" as="style">
  
  <!-- Fonts and Icons -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&family=Roboto:wght@400;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  
  <style>
    /* CSS Variables for Consistent Theming */
    :root {
      --primary: #6c5ce7;
      --primary-dark: #5649c0;
      --secondary: #00cec9;
      --accent: #FFD700;
      --dark: #0d0d0d;
      --dark-light: #1a1a1a;
      --gray: #a4b0be;
      --light: #f5f6fa;
      --success: #00b894;
      --danger: #d63031;
      --card-bg: rgba(35, 35, 35, 0.9);
      --gradient: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
      --glass: rgba(255, 255, 255, 0.05);
      --glass-border: rgba(255, 255, 255, 0.1);
      --header-height: 70px;
      --nav-height: 70px;
    }

    /* Reset and Base Styles */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    html {
      scroll-behavior: smooth;
      font-size: 16px;
    }

    .mobile-menu-btn {
      background: var(--glass);
      border: 1px solid var(--glass-border);
      color: var(--light);
      width: 45px;
      height: 45px;
      border-radius: 10px;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      transition: all 0.3s;
    }

    .mobile-menu-btn:hover {
      background: rgba(108, 92, 231, 0.2);
    }

    .search-container {
      display: none; /* Hidden on mobile by default */
    }

    .user-actions {
      display: none; /* Hidden on mobile by default */
    }

    /* Mobile Menu */
    .mobile-menu {
      position: fixed;
      top: var(--header-height);
      left: 0;
      width: 100%;
      height: calc(100vh - var(--header-height));
      background: rgba(20, 20, 20, 0.98);
      backdrop-filter: blur(20px);
      z-index: 999;
      transform: translateX(-100%);
      transition: transform 0.3s ease;
      padding: 2rem 1rem;
      overflow-y: auto;
    }

    .mobile-menu.active {
      transform: translateX(0);
    }

    .mobile-search {
      display: flex;
      align-items: center;
      background: var(--glass);
      border: 1px solid var(--glass-border);
      border-radius: 30px;
      padding: 10px 20px;
      margin-bottom: 2rem;
    }

    .mobile-search input {
      background: transparent;
      border: none;
      color: var(--light);
      width: 100%;
      padding: 5px;
      outline: none;
      font-size: 1rem;
    }

    .mobile-search i {
      color: var(--gray);
      margin-right: 10px;
    }

    .mobile-nav {
      display: flex;
      flex-direction: column;
      gap: 1rem;
      margin-bottom: 2rem;
    }

    .mobile-nav-item {
      display: flex;
      align-items: center;
      gap: 15px;
      padding: 15px;
      background: var(--glass);
      border: 1px solid var(--glass-border);
      border-radius: 10px;
      color: var(--light);
      transition: all 0.3s;
    }

    .mobile-nav-item:hover, .mobile-nav-item.active {
      background: var(--primary);
      transform: translateX(5px);
    }

    .mobile-nav-item i {
      font-size: 1.2rem;
      width: 25px;
    }

    .mobile-categories {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 10px;
      margin-bottom: 2rem;
    }

    .mobile-category {
      background: var(--glass);
      border: 1px solid var(--glass-border);
      color: var(--light);
      padding: 12px;
      border-radius: 10px;
      text-align: center;
      font-size: 0.9rem;
      transition: all 0.3s;
    }

    .mobile-category.active, .mobile-category:hover {
      background: var(--primary);
    }

    .mobile-user-actions {
      display: flex;
      flex-direction: column;
      gap: 1rem;
    }

    .mobile-user-action {
      display: flex;
      align-items: center;
      gap: 15px;
      padding: 15px;
      background: var(--glass);
      border: 1px solid var(--glass-border);
      border-radius: 10px;
      color: var(--light);
      transition: all 0.3s;
    }

    .mobile-user-action:hover {
      background: rgba(108, 92, 231, 0.2);
    }


    body {
      font-family: 'Poppins', sans-serif;
      background: linear-gradient(to right, var(--dark), var(--dark-light));
      color: var(--light);
      min-height: 100vh;
      line-height: 1.6;
      overflow-x: hidden;
      padding-top: var(--header-height);
      padding-bottom: var(--nav-height);
    }

    /* Typography */
    h1, h2, h3, h4, h5, h6 {
      font-weight: 600;
      line-height: 1.3;
    }

    p {
      margin-bottom: 1rem;
    }

    a {
      color: var(--secondary);
      text-decoration: none;
      transition: color 0.3s;
    }

    a:hover {
      color: var(--accent);
    }

    /* Header Styles */
    header {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: var(--header-height);
      background: rgba(25, 25, 25, 0.95);
      backdrop-filter: blur(15px);
      border-bottom: 1px solid var(--glass-border);
      z-index: 1000;
      display: flex;
      align-items: center;
      padding: 0 1rem;
    }

    .header-content {
      display: flex;
      align-items: center;
      justify-content: space-between;
      width: 100%;
      max-width: 1200px;
      margin: 0 auto;
    }

    .logo {
      display: flex;
      align-items: center;
      gap: 10px;
      text-decoration: none;
    }

    .logo-icon {
      width: 40px;
      height: 40px;
      background: var(--gradient);
      border-radius: 10px;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 4px 15px rgba(108, 92, 231, 0.3);
    }

    .logo-icon i {
      color: white;
      font-size: 1.5rem;
    }

    .logo-text {
      font-size: 1.3rem;
      font-weight: 700;
      background: linear-gradient(to right, var(--accent), var(--secondary));
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
    }

    .page-title {
      font-size: 1.5rem;
      font-weight: 600;
      color: white;
    }

    .user-actions {
      display: flex;
      gap: 10px;
    }

    .user-actions button {
      background: var(--glass);
      border: 1px solid var(--glass-border);
      color: var(--light);
      width: 45px;
      height: 45px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      transition: all 0.3s;
      position: relative;
    }

    .user-actions button:hover {
      background: rgba(108, 92, 231, 0.2);
      transform: translateY(-2px);
    }

    .notification-badge {
      position: absolute;
      top: -5px;
      right: -5px;
      background: var(--danger);
      color: white;
      width: 18px;
      height: 18px;
      border-radius: 50%;
      font-size: 0.7rem;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    /* Main Content */
    main {
      max-width: 1200px;
      margin: 0 auto;
      padding: 1rem;
    }

    /* Hero Section */
    .hero {
      text-align: center;
      padding: 2rem 1rem;
      background: radial-gradient(circle at top right, rgba(108, 92, 231, 0.2) 0%, transparent 50%),
                  radial-gradient(circle at bottom left, rgba(0, 206, 201, 0.2) 0%, transparent 50%);
      border-radius: 20px;
      border: 1px solid var(--glass-border);
      backdrop-filter: blur(10px);
      margin-bottom: 2rem;
      position: relative;
      overflow: hidden;
    }

    .hero::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" width="100" height="100" opacity="0.05"><defs><pattern id="grid" width="10" height="10" patternUnits="userSpaceOnUse"><path d="M 10 0 L 0 0 0 10" fill="none" stroke="white" stroke-width="0.5"/></pattern></defs><rect width="100" height="100" fill="url(%23grid)"/></svg>');
      z-index: -1;
    }

    .hero h1 {
      font-size: 2rem;
      margin-bottom: 1rem;
      background: linear-gradient(to right, var(--accent), var(--secondary));
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
      line-height: 1.2;
    }

    .hero p {
      font-size: 1rem;
      color: var(--gray);
      max-width: 600px;
      margin: 0 auto 1.5rem;
    }

    /* Search Section */
    .search-section {
      background: var(--card-bg);
      backdrop-filter: blur(10px);
      border: 1px solid var(--glass-border);
      border-radius: 15px;
      padding: 1.5rem;
      margin-bottom: 2rem;
    }

    .search-container {
      display: flex;
      gap: 10px;
      margin-bottom: 1.5rem;
    }

    .search-input {
      flex: 1;
      background: var(--glass);
      border: 1px solid var(--glass-border);
      border-radius: 10px;
      padding: 12px 20px;
      color: var(--light);
      font-size: 1rem;
      outline: none;
      transition: all 0.3s;
    }

    .search-input:focus {
      border-color: var(--primary);
      box-shadow: 0 0 0 2px rgba(108, 92, 231, 0.3);
    }

    .search-btn {
      background: var(--gradient);
      border: none;
      border-radius: 10px;
      padding: 12px 20px;
      color: white;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .search-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 5px 15px rgba(108, 92, 231, 0.4);
    }

    /* Categories */
    .categories {
      display: flex;
      gap: 10px;
      overflow-x: auto;
      padding-bottom: 10px;
      margin-bottom: 1rem;
      scrollbar-width: thin;
      scrollbar-color: var(--primary) transparent;
    }

    .categories::-webkit-scrollbar {
      height: 6px;
    }

    .categories::-webkit-scrollbar-track {
      background: transparent;
    }

    .categories::-webkit-scrollbar-thumb {
      background: var(--primary);
      border-radius: 3px;
    }

    .category {
      background: var(--glass);
      border: 1px solid var(--glass-border);
      color: var(--light);
      padding: 8px 16px;
      border-radius: 20px;
      font-size: 0.9rem;
      white-space: nowrap;
      cursor: pointer;
      transition: all 0.3s;
      flex-shrink: 0;
    }

    .category.active, .category:hover {
      background: var(--primary);
      transform: translateY(-2px);
      box-shadow: 0 4px 10px rgba(108, 92, 231, 0.3);
    }

    /* Game Grid */
    .game-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
      gap: 1.5rem;
      margin-bottom: 2rem;
    }

    .game-card {
      background: var(--card-bg);
      backdrop-filter: blur(10px);
      border: 1px solid var(--glass-border);
      border-radius: 15px;
      padding: 1rem;
      text-align: center;
      cursor: pointer;
      transition: all 0.3s;
      position: relative;
      overflow: hidden;
    }

    .game-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 4px;
      background: var(--gradient);
      transform: scaleX(0);
      transition: transform 0.3s;
    }

    .game-card:hover::before {
      transform: scaleX(1);
    }

    .game-card:hover {
      transform: translateY(-8px);
      box-shadow: 0 15px 30px rgba(0, 0, 0, 0.4);
      border-color: rgba(108, 92, 231, 0.5);
    }

    .game-card img {
      width: 100%;
      height: 120px;
      object-fit: cover;
      border-radius: 10px;
      margin-bottom: 0.8rem;
      transition: transform 0.3s;
    }

    .game-card:hover img {
      transform: scale(1.05);
    }

    .game-title {
      font-size: 0.9rem;
      font-weight: 600;
      margin-bottom: 0.3rem;
      color: white;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }

    .game-author {
      font-size: 0.75rem;
      color: var(--gray);
      margin-bottom: 0.5rem;
    }

    .game-rating {
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 5px;
      font-size: 0.8rem;
      color: var(--accent);
    }

    .game-badge {
      position: absolute;
      top: 10px;
      right: 10px;
      background: var(--gradient);
      color: white;
      padding: 4px 8px;
      border-radius: 12px;
      font-size: 0.7rem;
      font-weight: 600;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
    }

    /* Loading State */
    .loading {
      text-align: center;
      padding: 3rem;
      color: var(--gray);
      grid-column: 1 / -1;
    }

    .loading i {
      font-size: 2.5rem;
      margin-bottom: 1rem;
      color: var(--primary);
      animation: spin 1.5s linear infinite;
    }

    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }

    .no-results {
      text-align: center;
      padding: 3rem;
      color: var(--gray);
      grid-column: 1 / -1;
    }

    .no-results i {
      font-size: 3rem;
      margin-bottom: 1rem;
      color: var(--gray);
    }

    /* Bottom Navigation */
    .bottom-nav {
      position: fixed;
      bottom: 0;
      left: 0;
      width: 100%;
      height: var(--nav-height);
      background: rgba(20, 20, 20, 0.95);
      backdrop-filter: blur(15px);
      display: flex;
      justify-content: space-around;
      align-items: center;
      padding: 10px 0;
      border-top: 1px solid var(--glass-border);
      z-index: 100;
    }

    .nav-btn {
      background: none;
      border: none;
      color: var(--gray);
      display: flex;
      flex-direction: column;
      align-items: center;
      font-size: 0.7rem;
      gap: 5px;
      cursor: pointer;
      transition: all 0.3s;
      width: 60px;
      position: relative;
    }

    .nav-btn::before {
      content: '';
      position: absolute;
      top: -10px;
      width: 0;
      height: 3px;
      background: var(--gradient);
      border-radius: 3px;
      transition: width 0.3s;
    }

    .nav-btn.active::before, .nav-btn:hover::before {
      width: 25px;
    }

    .nav-btn.active, .nav-btn:hover {
      color: var(--accent);
    }

    .nav-btn i {
      font-size: 1.2rem;
    }

    /* Responsive Design */
    @media (min-width: 768px) {
      .hero {
        padding: 3rem 2rem;
      }
      
      .hero h1 {
        font-size: 2.5rem;
      }
      
      .game-grid {
        grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
        gap: 2rem;
      }
      
      .game-card img {
        height: 140px;
      }
    }

    @media (min-width: 1024px) {
      .game-grid {
        grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
      }
    }

    @media (max-width: 480px) {
      .logo-text {
        display: none;
      }
      
      .page-title {
        font-size: 1.1rem;
      }
      
      .hero {
        padding: 1.5rem 1rem;
      }
      
      .hero h1 {
        font-size: 1.8rem;
      }
      
      .game-grid {
        grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
        gap: 1rem;
      }
      
      .game-card img {
        height: 100px;
      }
    }
  </style>
</head>
<body>
  <!-- Header -->
  <header>
    <div class="header-content">
      <a href="" class="logo">
        <div class="logo-icon">
          <i class="fas" style="font-size:15px;" >C G</i>
        </div>
        <span class="logo-text">Play</span>
      </a>
   
      <button class="mobile-menu-btn" aria-label="Open menu">
        <i class="fas fa-bars"></i>
      </button>
    </div>
  </header>

  <!-- Mobile Menu -->
  <div class="mobile-menu">
    <div class="mobile-search">
      <i class="fas fa-search"></i>
      <input type="text" placeholder="Search games..." aria-label="Search games">
    </div>
    
    <nav class="mobile-nav">
      <a href="#" class="mobile-nav-item active">
        <i class="fas fa-home"></i>
        <span>Home</span>
      </a>
      <a href="#" class="mobile-nav-item">
        <i class="fas fa-gamepad" onclick="location.href='games.html'"></i>
        <span>Games</span>
      </a>
      <a href="#" class="mobile-nav-item" onclick="location.href='freind.html'">
        <i class="fas fa-user-friends"></i>
        <span>Friends</span>
      </a>
      <a href="#" class="mobile-nav-item">
        <i class="fas fa-trophy" onclick="location.href='leaderboard.html'"></i>
        <span>Leaderboard</span>
      </a>
    </nav>
    
    <h3 style="color: white; margin-bottom: 1rem;">Categories</h3>
    <div class="mobile-categories">
      <button class="mobile-category active">All Games</button>
    </div>
    
    <div class="mobile-user-actions">
      <a href="#" class="mobile-user-action" onclick="location.href='auth.html'">
        <i class="fas fa-sign-out-alt"></i>
        <span>Logout</span>
      </a>
    </div>
  </div>
  <!-- Main Content -->
  <main>
    <!-- Hero Section -->

    <!-- Search Section -->
    <section class="search-section">
      <div class="search-container">
        <input type="text" class="search-input" id="searchInput" placeholder="Search games by name, category, or developer...">
        <button class="search-btn" onclick="searchGames()">
          <i class="fas fa-search"></i>
          Search
        </button>
      </div>
    </section>

    <!-- Games Grid -->
    <div id="gamesContainer" class="game-grid">
      <div class="loading">
        <i class="fas fa-spinner"></i>
        <p>Loading games...</p>
      </div>
    </div>
  </main>

  <nav class="bottom-nav">
    <button class="nav-btn">
      <i class="fas fa-home" onclick="location.href='index.html'"></i>
      <span>Home</span>
    </button>
    <button class="nav-btn active" onclick="location.href='games.html'">
      <i class="fas fa-gamepad"></i>
      <span>Games</span>
    </button>

    <button class="nav-btn" onclick="location.href='freind.html'" >
      <i class="fas fa-user-friends"></i>
      <span>Friends</span>
    </button>
    <button class="nav-btn" onclick="location.href='leaderboard.html'">
      <i class="fas fa-trophy"></i>
      <span>Leaderboard</span>
    </button>
  </nav>

  <script>
      const mobileMenuBtn = document.querySelector('.mobile-menu-btn');
    const mobileMenu = document.querySelector('.mobile-menu');

    // Toggle mobile menu
    mobileMenuBtn.addEventListener('click', () => {
      mobileMenu.classList.toggle('active');
    });

    // Close mobile menu when clicking outside
    document.addEventListener('click', (e) => {
      if (!mobileMenu.contains(e.target) && !mobileMenuBtn.contains(e.target)) {
        mobileMenu.classList.remove('active');
      }
    });
    // Firebase Initialization
    const firebaseConfig = {
      apiKey: "AIzaSyCRtPZ34Y1J-p5b7FJxEUagYg3h_D6PbhM",
      authDomain: "igsfogstudio-df541.firebaseapp.com",
      projectId: "igsfogstudio-df541",
      storageBucket: "igsfogstudio-df541.appspot.com",
      messagingSenderId: "206722625476",
      appId: "1:206722625476:web:c222830b5404f87bf57e91"
    };
    
    firebase.initializeApp(firebaseConfig);
    const auth = firebase.auth();
    const db = firebase.firestore();

    let currentUser = null;
    let allGames = [];
    let filteredGames = [];
    let currentCategory = 'all';
    let currentSearchTerm = '';

    // Auth check and data load
    auth.onAuthStateChanged(async user => {
      if (!user) {
        // Redirect to auth page if not logged in
      }
      
      currentUser = user;
      loadAllGames();
    });

    // Load all games from Firebase
    function loadAllGames() {
      const gamesContainer = document.getElementById('gamesContainer');
      
      db.collection('games').get().then(snapshot => {
        allGames = [];
        snapshot.forEach(doc => {
          const gameData = doc.data();
          gameData.id = doc.id;
          allGames.push(gameData);
        });
        
        // Show all games initially
        filteredGames = [...allGames];
        displayGames(filteredGames);
      }).catch(error => {
        console.error("Error loading games:", error);
        gamesContainer.innerHTML = `
          <div class="no-results">
            <i class="fas fa-exclamation-circle"></i>
            <p>Error loading games. Please try again later.</p>
          </div>
        `;
      });
    }

    // Display games in the grid
    function displayGames(games) {
      const gamesContainer = document.getElementById('gamesContainer');
      
      if (games.length === 0) {
        gamesContainer.innerHTML = `
          <div class="no-results">
            <i class="fas fa-gamepad"></i>
            <p>No games found. Try a different search or category.</p>
          </div>
        `;
        return;
      }
      
      let html = '';
      games.forEach(game => {
        // Generate a random rating for demo purposes
        const rating = (Math.random() * 1 + 4).toFixed(1);
        const stars = Math.round(rating);
        
        html += `
          <div class="game-card" onclick="openGame('${game.id}')">
            ${game.featured ? '<div class="game-badge">Featured</div>' : ''}
            <img src="${game.gameLogoUrl || 'https://via.placeholder.com/200x150/2d3436/6c5ce7?text=Game'}" alt="${game.gameName || 'Game'}" loading="lazy">
            <div class="game-title">${game.gameName || "Unnamed Game"}</div>
            <div class="game-author">${game.uploaderName || "Unknown Developer"}</div>
            <div class="game-rating">
              <span>${rating}</span>
              <div>
                ${'★'.repeat(stars)}${'☆'.repeat(5-stars)}
              </div>
            </div>
          </div>
        `;
      });
      
      gamesContainer.innerHTML = html;
    }

    // Search games by name, category, or developer
    function searchGames() {
      const searchTerm = document.getElementById('searchInput').value.toLowerCase().trim();
      currentSearchTerm = searchTerm;
      
      filterGames();
    }

    // Filter games based on search term and category
    function filterGames() {
      filteredGames = allGames.filter(game => {
        // Check if game matches search term
        const matchesSearch = !currentSearchTerm || 
          (game.gameName && game.gameName.toLowerCase().includes(currentSearchTerm)) ||
          (game.uploaderName && game.uploaderName.toLowerCase().includes(currentSearchTerm)) ||
          (game.category && game.category.toLowerCase().includes(currentSearchTerm));
        
        // Check if game matches category
        const matchesCategory = currentCategory === 'all' || 
          (game.category && game.category.toLowerCase() === currentCategory);
        
        return matchesSearch && matchesCategory;
      });
      
      displayGames(filteredGames);
    }

    // Open game page
    // Open game page
function openGame(gameId) {
  // Redirect to game player page with the game ID
  window.location.href = `gamecg.html?id=${gameId}`;
}

    // Category filtering
    document.querySelectorAll('.category').forEach(button => {
      button.addEventListener('click', function() {
        // Update active category
        document.querySelectorAll('.category').forEach(btn => btn.classList.remove('active'));
        this.classList.add('active');
        
        currentCategory = this.getAttribute('data-category');
        filterGames();
      });
    });

    // Handle Enter key in search input
    document.getElementById('searchInput').addEventListener('keypress', function(e) {
      if (e.key === 'Enter') {
        searchGames();
      }
    });

    // Real-time search as user types
    let searchTimeout;
    document.getElementById('searchInput').addEventListener('input', function() {
      clearTimeout(searchTimeout);
      searchTimeout = setTimeout(() => {
        searchGames();
      }, 300);
    });
  </script>
</body>
</html>
